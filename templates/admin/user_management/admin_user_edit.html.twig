{% extends '/admin/base_admin.html.twig' %}

{% block title %} Modifier {{ user.firstname }}&nbsp;{{ user.lastname }} {% endblock %}

{% block body %}
    <header>
        <h1> Modifier {{ user.firstname }}&nbsp;{{ user.lastname }}</h1>
    </header>

    <main>
        <div class="container-xl px-4 mt-4">
            <ul class="nav nav-tabs" id="myTab" role="tablist">
                <li class="nav-item" role="presentation">
                    <button class="nav-link active" id="profile-tab" data-bs-toggle="tab" data-bs-target="#profile" type="button" role="tab" aria-controls="profile" aria-selected="true">Profil</button>
                </li>
                <li class="nav-item" role="presentation">
                    <button class="nav-link" id="security-tab" data-bs-toggle="tab" data-bs-target="#security" type="button" role="tab" aria-controls="security" aria-selected="false">Sécurité</button>
                </li>
                <li class="nav-item" role="presentation">
                    <button class="nav-link" id="contact-tab" data-bs-toggle="tab" data-bs-target="#contact" type="button" role="tab" aria-controls="contact" aria-selected="false">Contact</button>
                </li>
            </ul>
            <div class="tab-content" id="myTabContent">
                <div class="tab-pane fade show active" id="profile" role="tabpanel" aria-labelledby="profile-tab">
                    <div class="row">
                        <div class="col-xl-4">
                            <!-- Profile picture card-->
                            <div class="card mb-4 mb-xl-0">
                                <div class="card-header">Photo de profil</div>
                                <div class="card-body text-center">
                                    <!-- Profile picture image-->
                                    <img class="img-account-profile rounded-circle mb-2" src="http://bootdey.com/img/Content/avatar/avatar1.png" alt="">
                                    <!-- Profile picture help block-->
                                    <div class="small font-italic text-muted mb-4">JPG ou PNG limité à 5 Mo</div>
                                    <!-- Profile picture upload button-->
                                    <button class="btn btn-primary" type="button">Charger votre nouvelle Image</button>
                                </div>
                            </div>
                        </div>
                        <div class="col-xl-8">
                            <!-- Account details card-->
                            <div class="card mb-4">
                                <div class="card-header">Detail du compte</div>
                                <div class="card-body">
                                    {{ form_start(form, {'method': 'Post'}) }}
                                    <div class="row">

                                        <div class="col-md-6 mb-3">
                                            <div class="form-group">
                                                {{ form_label(form.firstname) }}
                                                {{ form_widget(form.firstname) }}
                                            </div>
                                        </div>

                                        <div class="col-md-6 mb-3">
                                            <div class="form-group">
                                                {{ form_label(form.lastname) }}
                                                {{ form_widget(form.lastname) }}
                                            </div>
                                        </div>


                                        <div class="col-md-12 mb-3">
                                            <div class="form-group">
                                                {{ form_label(form.email) }}
                                                {{ form_widget(form.email) }}
                                            </div>
                                        </div>

                                        <div class="col-md-6 mb-3">
                                            <div class="form-group">
                                                {{ form_label(form.phone) }}
                                                {{ form_widget(form.phone) }}
                                            </div>
                                        </div>

                                        <div class="col-md-6 mb-3">
                                            <div class="form-group">
                                                {{ form_label(form.roles) }}
                                                {{ form_widget(form.roles) }}
                                            </div>
                                        </div>

                                        <div class="col-md-6">
                                            <button type="submit" class="btn btn-primary">{{ button_label|default('Enregistrer les modifications') }}</button>
                                        </div>
                                    </div>

                                    {{ form_end(form) }}

                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="tab-pane fade" id="security" role="tabpanel" aria-labelledby="security-tab">
                    <div class="row">
                        <div class="col-lg-8">
                            <!-- Change password card-->
                            <div class="card mb-4">
                                <div class="card-header">Changer votre mot de passe</div>
                                <div class="card-body">
                                    {{ form_start(password_form) }}
                                    <div class="mb-3">
                                        {{ form_widget(password_form) }}
                                    </div>
                                    {{ form_end(password_form) }}
                                </div>
                            </div>
                        </div>
                        <div class="col-lg-4">
                            <!-- Delete account card-->
                            <div class="card mb-4">
                                <div class="card-header">Delete Account</div>
                                <div class="card-body">
                                    <p>La suppression de compte est une action permanente et ne peut pas être annulée. Si vous êtes sûr de vouloir supprimer ce compte, sélectionnez le bouton ci-dessous.</p>
                                    <a href="{{ path('admin_delete_user', {'id': user.id}) }}" class="btn btn-outline-danger " type="button">je comprend, supprimer le compte</a>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="tab-pane fade" id="contact" role="tabpanel" aria-labelledby="contact-tab">test 3</div>
            </div>
        </div>
    </main>
{% endblock %}